<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Admin - Dettagli Ristorante</title>
    <meta charset="UTF-8">
</head>
<body>

<!-- Header -->
<div th:replace="fragments/header :: header"></div>

<h1>Dettagli Ristorante</h1>

<div style="margin-bottom: 1em;">
    <p><strong>Nome:</strong> <span th:text="${ristorante.nome}">Nome</span></p>
    <p><strong>Città:</strong> <span th:text="${ristorante.citta}">Città</span></p>
	<div th:each="img : ${ristorante.images}">
		<img th:src="@{${img.name}}"
		 style="max-width: 200px; max-height: 300px;"
		 loading="eager">
		</div>
			                
		 <!-- Nessuna immagine -->
		 <div th:if="${#lists.isEmpty(ristorante.images)}"
		class="no-images-placeholder">
		 Nessuna immagine disponibile
		</div>
</div>

<h2>Chef associati</h2>
<ul>
    <li th:each="c : ${ristorante.chefs}" th:text="${c.nome + ' ' + c.cognome}">Chef</li>
</ul>

<h2>Esperienze degli utenti</h2>
<div th:if="${#lists.isEmpty(ristorante.esperienze)}">
    <p>Nessuna esperienza disponibile per questo ristorante.</p>
</div>
<div th:unless="${#lists.isEmpty(ristorante.esperienze)}">
    <ul>
        <li th:each="e : ${ristorante.esperienze}">
            <strong th:text="${e.user.name + ' ' + e.user.surname}">Utente</strong>:
            <span th:text="${e.titolo}">Titolo</span> -
            <span th:text="${e.descrizione}">Descrizione esperienza</span>
            (<span th:text="${e.stelle}">Stelle</span>/5)

            <!-- Pulsante di rimozione per l'admin -->
            <form th:action="@{'/admin/esperienze/' + ${e.id} + '/rimuovi'}" method="post" style="display:inline;">
                <button type="submit">Rimuovi</button>
            </form>
        </li>
    </ul>
</div>

<!-- Azioni -->
<div style="margin-top: 2em;">
    <a th:href="@{/admin/formUpdateRistorante/{id}(id=${ristorante.id})}">️ Modifica</a> |
    <a th:href="@{/admin/rimuoviRistorante/{id}(id=${ristorante.id})}"> Rimuovi</a> |
    <a th:href="@{/admin/indexRistorante}"> Torna alla lista</a>
</div>

<!-- Footer -->
<div th:replace="fragments/footer :: footer"></div>

</body>
</html>
